### README

### **面向SUMO初学者的控制程序模板**

此模板专为SUMO初学者设计，帮助交通工程学生快速入门基本的仿真控制与数据收集。

#### **使用方法**

要启动SUMO仿真，运行 main.py：

```
python main.py
```

#### **工作流程**

1. **参数传递与文件生成**

   main.py 首先将仿真参数传入到生成路网和流量文件的函数中，以创建所需的SUMO配置文件。

2. **启动仿真**

   文件生成完成后，main.py 会启动 run_for_main.py 中定义的 run 函数。

3. **模块化控制与数据收集**

   run 函数会调用目录下的控制和数据收集模块，以管理车辆行为并收集仿真数据。

---

### 文件树

```
📦SUMO-BeginnerControl
 ┣ 📂deployment									# 依赖文件
 ┃ ┣ 📂environment							# 仿真环境
 ┃ ┃ ┣ 📜main_config.sumocfg		# 基础config
 ┃ ┃ ┣ 📜road.net.xml						# 路网文件，通过程序生成
 ┃ ┃ ┗ 📜route.rou.xml					# 交通需求文件，通过程序生成
 ┣ 📂output
 ┃ ┣ 📂data											# 收集得到的数据
 ┃ ┃ ┣ 📂base_info_data
 ┃ ┃ ┃ ┣ 📜base_info_mpr_60_flow_54_12_time_300.csv
 ┃ ┃ ┃ ┗ 📜base_info_mpr_60_flow_54_5_time_300.csv
 ┃ ┃ ┗ 📂delay_data
 ┃ ┃ ┃ ┣ 📜delay_mpr_60_flow_54_12_time_300.csv
 ┃ ┃ ┃ ┗ 📜delay_mpr_60_flow_54_5_time_300.csv
 ┃ ┗ 📂data_ana									# 数据分析
 ┃ ┃ ┣ 📜Heatmap.ipynb					# "时间-位置"车辆速度热力图
 ┃ ┃ ┗ 📜box_plot.ipynb					# 车辆延误分析
 ┣ 📂sumo_control_sample
 ┃ ┣ 📂control_handler
 ┃ ┃ ┗ 📜main.py								# 主函数/关键参数
 ┃ ┣ 📂control_helper
 ┃ ┃ ┣ 📜__init__.py
 ┃ ┃ ┣ 📜_config.py							# 定义空数据表/基础参数
 ┃ ┃ ┣ 📜_generation_files.py		# 生成路网文件与交通需求文件
 ┃ ┃ ┣ 📜control.py							# 车辆控制
 ┃ ┃ ┣ 📜data_coll.py						# 数据收集
 ┃ ┃ ┗ 📜run_for_main.py				# 运行控制
 ┗ 📜readme.md
```



------

### **Template for Beginners**

This template is designed for beginners working with SUMO (Simulation of Urban MObility) to help them get started with basic simulation control and data collection.

#### **Usage**

To start the SUMO simulation, simply run main.py:

```
python main.py
```

#### **How It Works**

1. **Parameter Passing and File Generation**

   main.py first passes simulation parameters to functions responsible for generating network and traffic files. This step creates the necessary SUMO configuration files.

2. **Running the Simulation**

   Once the files are generated, main.py initiates the run function from run_for_main.py.

3. **Modular Control and Data Collection**

   The run function utilizes control and data collection modules located in its directory to manage vehicle behavior and gather simulation data.

---

### file tree

```
📦SUMO-BeginnerControl
 ┣ 📂deployment                      	# Dependency files
 ┃ ┣ 📂environment                   	# Simulation environment
 ┃ ┃ ┣ 📜main_config.sumocfg         	# Basic config
 ┃ ┃ ┣ 📜road.net.xml               	# Road network file, generated by the program
 ┃ ┃ ┗ 📜route.rou.xml                # Traffic demand file, generated by the program
 ┣ 📂output
 ┃ ┣ 📂data                           # Collected data
 ┃ ┃ ┣ 📂base_info_data
 ┃ ┃ ┃ ┣ 📜base_info_mpr_60_flow_54_12_time_300.csv
 ┃ ┃ ┃ ┗ 📜base_info_mpr_60_flow_54_5_time_300.csv
 ┃ ┃ ┗ 📂delay_data
 ┃ ┃ ┃ ┣ 📜delay_mpr_60_flow_54_12_time_300.csv
 ┃ ┃ ┃ ┗ 📜delay_mpr_60_flow_54_5_time_300.csv
 ┃ ┗ 📂data_ana                     	# Data analysis
 ┃ ┃ ┣ 📜Heatmap.ipynb               	# "Time-Position" vehicle speed heatmap
 ┃ ┃ ┗ 📜box_plot.ipynb               # Vehicle delay analysis
 ┣ 📂sumo_control_sample
 ┃ ┣ 📂control_handler
 ┃ ┃ ┗ 📜main.py                   		# Main function/key parameters
 ┃ ┣ 📂control_helper
 ┃ ┃ ┣ 📜__init__.py
 ┃ ┃ ┣ 📜_config.py                		# Define empty data tables/base parameters
 ┃ ┃ ┣ 📜_generation_files.py    			# Generate road network and traffic demand files
 ┃ ┃ ┣ 📜control.py                  	# Vehicle control
 ┃ ┃ ┣ 📜data_coll.py                	# Data collection
 ┃ ┃ ┗ 📜run_for_main.py             	# Execution control
 ┗ 📜readme.md
```

